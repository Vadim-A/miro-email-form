<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Тестовое задание</title>
    <link href="style.css" rel="stylesheet" />
    <link href="lib/emails-input/emails-input.css" rel="stylesheet" />
    <script src="lib/emails-input/emails-input.js"></script>
  </head>

  <body>
    <div class="content">
      <div class="email-form" id="email-form-1">
        <div class="email-form__header">
          Share&nbsp;<b>Board name</b>&nbsp;with others
        </div>

        <div class="email-form__body">
          <div id="emails-input-1"></div>
        </div>

        <div class="email-form__footer">
          <button class="button" id="button-add-1">Add email</button>
          <button class="button" id="button-count-1">Get emails count</button>
        </div>
      </div>

      <div class="email-form" id="email-form-2">
        <div class="email-form__header">
          Share&nbsp;<b>Board name</b>&nbsp;with others
        </div>

        <div class="email-form__body">
          <div id="emails-input-2"></div>
        </div>

        <div class="email-form__footer">
          <button class="button" id="button-add-2">Add email</button>
          <button class="button" id="button-count-2">Get emails count</button>
        </div>
      </div>
    </div>

    <!-- <div class="example">
      <h2>Example</h2>
      <img src="assets/img/Frame 2.svg" title="Пример" />
    </div> -->
  </body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const emailsInput1 = document.getElementById("emails-input-1").emailsInput({
      emails: [
        "john@miro.com",
        "invalid.email",
        "mike@miro.com",
        "alexander@miro.com",
      ],
      onEmailsChange: function (event) {
        console.log("emailsInput1: " + event.join(", "));
      },
    });

    const emailsInput2 = document.getElementById("emails-input-2").emailsInput({
      emails: ["a@miro.com", "b.email", "c@miro.com"],
      onEmailsChange: function (event) {
        console.log("emailsInput2: " + event.join(", "));
      },
    });

    document.getElementById("button-count-1").onclick = function () {
      alert(emailsInput1.getEmails().length);
    };

    document.getElementById("button-count-2").onclick = function () {
      alert(emailsInput2.getEmails().length);
    };

    document.getElementById("button-add-1").onclick = function () {
      emailsInput1.addEmail(
        "email" + Math.round(Math.random() * 10000) + "@mail.ru"
      );
    };

    document.getElementById("button-add-2").onclick = function () {
      emailsInput2.addEmail(
        "email" + Math.round(Math.random() * 10000) + "@mail.ru"
      );
    };
  });
</script>
